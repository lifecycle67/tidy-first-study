## 12장. 도우미 추출

- **메서드 추출 리팩토링**: 목적이 분명하고 나머지 코드와는 상호작용이 적은 코드 블록 → 추려내고 도우미(helper)로 추출한 후 이름 붙이는 것
- helper 추출 시 몇 가지 특수한 경우
  1. 큰 루틴 안에서 몇 줄을 변경해야 하는 경우

     ```python
     # As-is
     routine()
       ...그대로 두는 코드...
       ...바꾸려는 코드... # 변경하려는 코드들을 도우미로 추출
       ...그대로 두는 코드...

     # TO-be
     helper()
       ...바꾸려는 코드... # 도우미 안의 내용만 변경

     routine()
       ...그대로 두는 코드...
       helper()  # 적절하다고 판단한 뒤, 도우미 호출 문장에 반영
       ...그대로 두는 코드...
     ```

     ⇒ 이 작업이 **응집도 높은 요소 만들기**

  2. 시간적 결합을 표현하는 경우 (호출 순서에 의존하는 관계)

     ```python
     # As-is
     foo.a() # b() 보다 앞서 호출되어야 하는 경우
     foo.b()

     # TO-be: 호출하는 쪽에서 `ab()`만 호출하면 됨. 시간적 결합이 하나의 이름으로 표현됨
     ab()
      a()
      b()
     ```

- 도우미를 쓰다보면 '이 코드는 무엇을 하는가?'를 생각하게 하고 → 인터페이스를 생각하도록 이끄는 도구가 된다. 우리가 만든 설계 요소에 이름을 붙일수 있을 때, 새로운 인터페이스 아이디어가 떠오른다
- 코드 정리와 리팩토링을 실행할 때 자동 리팩토링을 제공하는 개발 도구(IDE)를 추천한다
  - 사용 예시:
    - 메서드/도우미 추출: 블록 선택 후 “Extract Method” 또는 “Extract Function” 실행 → 새 함수/메서드로 추출하고 호출부 자동 생성.
    - 이름 변경: 심볼에서 “Rename” 실행 → 해당 이름을 쓰는 모든 참조를 한 번에 바꿈.
    - 인라인: 작은 함수/변수를 호출/사용하는 곳에 풀어 넣기.
